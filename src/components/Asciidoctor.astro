---
import * as process from 'node:process';
import Processor from 'asciidoctor';

let { content } = Astro.props;

if (!content) {
    content = "****\nNeed some content!\n****\n";
}

// try this on Linux before getting clever with path manipulation on Windows
let cwd = process.cwd();
const htmlContent = Processor().convert(content, { safe: 0, base_dir: cwd });
---
<article>
    {htmlContent}
</article>